module HigherOrder;

type <java> "java.lang.String" from "rt.jar" as String;

global protocol Proto(role A, role B, role C) {
    First("A!{M1():mu X.mu X.mu X.B?{M3(int): #X}, M2():mu X.B?{M3(int): #X}}") from A to B;
    Second(Int) from B to C;
    Third() from C to A;
}